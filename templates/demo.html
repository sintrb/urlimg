<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Url Image</title>
	<meta name="description" content="">
	<meta name="keywords" content="Url Image">

	<!-- 新 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">

	<!-- 可选的Bootstrap主题文件（一般不用引入） -->
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css">

	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>

	<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
	<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

	<style type="text/css">
	.input-group{
		width: 600px;
		/*margin: 5px;*/
		margin-top: 0px;
	}
	#imgview{
		margin: 0 auto;
	}
</style>
</head>
<body>
	<table style="width:400px; margin:5px auto;">
		<tr>
			<td colspan="2">
				<div class="input-group">
					<span class="input-group-addon">图片地址</span>
					<input id="imgurl" type="text" class="form-control" placeholder="图片地址" value="http://sae.sina.com.cn/static/image/home/logo.png"></div>
			</td>
		</tr>
		<tr>
			<td >
				<div class="input-group" style="width:300px;">
					<span class="input-group-addon">图片高度</span>
					<input id="imgh" type="number" class="form-control" placeholder="图片高度"  value="0"></div>
			</td>
			<td>
				<div class="input-group" style="width:300px;">
					<span class="input-group-addon">图片宽度</span>
					<input id="imgw" type="number" class="form-control" placeholder="图片宽度"  value="0"></div>
			</td>
		</tr>
		<tr>
			<td colspan="2">
				<div class="input-group">
					<span class="input-group-addon">引用地址</span>
					<input id="refurl" type="text" class="form-control" value="" readonly="true"></div>
			</td>
		</tr>
	</table>
	<center >
		<img style="border: 1px solid; margin-top:5px;" src="" id="imgview">
		<br />
		<span>©2015 Sin, sintrb@gmail.com,  view on <a href="https://github.com/sintrb/urlimg">GitHub</a></span>
	</center>
</body>
	<script type="text/javascript">
	function update () {
		var path = window.location.href.substr(0, window.location.href.indexOf("/", 10)+1);
		var url = path + "?url="+$("#imgurl").val()+"&width="+$("#imgw").val()+"&height="+$("#imgh").val();
		$("#refurl").val(url);
		$("#imgview").attr("src", url);
	}
	function keydown(e) {
		if(e.keyCode == 13){
			update();
		}
	}
	$(function () {
		$("#imgurl").keydown(keydown);
		$("#imgw").keydown(keydown);
		$("#imgh").keydown(keydown);
		update();

		setInterval(update, 2000);
	});
</script>
</html>